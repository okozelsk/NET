<?xml version="1.0" encoding="UTF-8"?>
<demo dataFolder="./Data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="SMDemoSettings.xsd">


  <!--
    Here StateMachine achieves 81.28% accuracy. It is a bit worse than the best accuracy 81.4% achieved by the algorithm
    called COTE referenced at the dataset's home site:
    "Anthony Bagnall, Jason Lines, William Vickers and Eamonn Keogh, The UEA & UCR Time Series Classification Repository, www.timeseriesclassification.com"
    https://timeseriesclassification.com/description.php?Dataset=CricketX.
    The series Cricket X, Y and Z are accelerometer data (in three dimensions) taken from actors performing cricket gestures.
    The twelve classes are different umpire signals: Cancel Call, Dead Ball, Four, Last Hour Leg Bye, No Ball, One Short, Out,
    Penalty Runs, Six, TV Replay, and Wide. They mounted two accelerometers orthogonal to each other, thus acceleration is measured
    in 3D space. The accelerometers are housed in a small wrist watch sized enclosure worn in the form of a wrist band.
    Taken together the data is a multivariate time series classificatin problem, but the serise are not alligned so in its current
    format cannot be used s such Segmentation of intentional gestures for sports video annotation, Online Context Recognition in Multisensor Systems using Dynamic Time Warping.
    The data are multi-dimensional, but they are not aligned, so it is not possible.
  -->
  <case name="Classification task CricketX: pure ESN reservoir generating FiringTrace predictors, one Identity neuron as a classifier (Resilient trainer)">
    <samples trainingData="CricketX_train.csv" verificationData="CricketX_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor predictorsReductionRatio="0">
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Continuous" variablesSchema="Sequential">
            <unification unifyAmplitude="false" detrend="false">
              <resampling signalBeginThreshold="0" signalEndThreshold="0" uniformTimeScale="true" targetTimePoints="Auto"/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="Accel">
                <realFeature />
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="PoolMain">
                <proportions dimX="500" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1" firingThreshold="0.00125" thresholdMaxRefDeepness="60">
                    <activationTanH/>
                    <predictors>
                      <firingTrace fading="0.005"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.05" avgDistance="NA" allowSelfConnection="true"/>
                  <chainSchema/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="Accel" poolName="PoolMain" analogTargetDensity="0.25"/>
            </inputConnections>
            <synapse>
              <analogTarget spectralRadius="0.9999">
                <input maxDelay="50">
                  <analogSource>
                    <weight min="0" max="1.5"/>
                  </analogSource>
                </input>
                <indifferent maxDelay="0"/>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.1" folds="Auto" repetitions="1">
        <defaultNetworks>
          <classification>
            <ff>
              <activationIdentity/>
              <resPropTrainer attempts="10" attemptEpochs="500"/>
            </ff>
          </classification>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="Cancel Call">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="Dead Ball">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="Four">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="Last Hour">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="Leg Bye">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="No Ball">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="One Short">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="Out">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="Penalty Runs">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="Six">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="TV Replay">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
          <readoutUnit name="Wide">
            <classification oneWinnerGroupName="Gesture"/>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>


  <!--
    This demo case demonstrates successful use of the pure analog ESN reservoir for the fast and accurate classifications enabled by
    the new ability of the analog neurons to fire a spike, input resampling and transformation. 
    Following straightforward configuration of the StateMachine exhibits 83.12% accuracy, clearly better than the best algorithm
    called BOSS (73.49%), referenced at the dataset's home site:
    "Anthony Bagnall, Jason Lines, William Vickers and Eamonn Keogh, The UEA & UCR Time Series Classification Repository, www.timeseriesclassification.com"
    https://timeseriesclassification.com/description.php?Dataset=Worms.
    Caenorhabditis elegans is a roundworm commonly used as a model organism in the study of genetics.
    The movement of these worms is known to be a useful indicator for understanding behavioural genetics.
    Brown et al. - "A dictionary of behavioral motifs reveals clusters of genes affecting Caenorhabditis elegans locomotion"
    describe a system for recording the motion of worms on an agar plate and measuring a range of human-defined features.
    It has been shown that the space of shapes Caenorhabditis elegans adopts on an agar plate can be represented by combinations of four
    base shapes, or eigenworms. Once the worm outline is extracted, each frame of worm motion can be captured by four scalars
    representing the amplitudes along each dimension when the shape is projected onto the four eigenworms. The data relates to 258 traces
    of worms converted into four "eigenworm" series. The eigenworm data are lengths from 17984 to 100674
    (sampled at 30 Hz, so from 10 minutes to 1 hour) and in four dimensions (eigwnworm 1 to 4).
    There are five classes: N2,goa-1,unc-1,unc-38 and unc-63. N2 is wildtype (i.e. normal) the other 4 are mutant strains.
    These datasets are the first dimension only (first eigenworm) The problems are series of first eigenworm1 averaged down
    so that all series are lengths 900 (the single hour long series is discarded). This smoothing is likely to discard discriminatory
    information. The Yemini features obtains nearly 100% accuracy, although we have not independently verified this.
    We address the problem of classifying individual worms as wild-type or mutant based on the time series of the first eigenworm,
    down-sampled to second-long intervals. We have 257 cases, which we split 70%/30% into a train and test set.
    Each series has 900 observations, and each worm is classified as either wild-type (the N2 reference strain - 109 cases) or one of
    four mutant types: goa-1 (44 cases); unc-1 (35 cases); unc-38 (45 cases) and unc-63 (25 cases). The data were extracted from the 
    C. elegans behavioural database {wormWeb}. The formatted classification problems are available from the website associated with this
    paper {tscWeb}.
  -->
  <case name="Classification task Worms: Simple pure ESN reservoir generating FiringTrace predictors, one Elliot neuron as a classifier (Resilient trainer)">
    <samples trainingData="Worms_train.csv" verificationData="Worms_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor>
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Forbidden">
            <unification unifyAmplitude="false" detrend="false">
              <resampling signalBeginThreshold="0" signalEndThreshold="0" uniformTimeScale="true" targetTimePoints="180"/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="Eigenworm1">
                <realFeature/>
              </field>
            </externalFields>
            <transformedFields>
              <field name="TransEigenworm1">
                <yeoJohnson fieldName="Eigenworm1" lambda="0.5"/>
              </field>
            </transformedFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="PureESN">
                <proportions dimX="7" dimY="7" dimZ="7"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1" firingThreshold="0.00125">
                    <activationTanH/>
                    <predictors>
                      <firingTrace fading="0.0025"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="true" constantNumOfConnections="false"/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="TransEigenworm1" analogTargetDensity="0.25" poolName="PureESN"/>
            </inputConnections>
            <synapse>
              <analogTarget>
                <input maxDelay="0">
                  <analogSource>
                    <weight min="0" max="2"/>
                  </analogSource>
                </input>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.1" folds="Auto">
        <defaultNetworks>
          <classification>
            <ff>
              <activationElliot/>
              <resPropTrainer attempts="5" attemptEpochs="1500"/>
            </ff>
          </classification>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="Wild-N2">
            <classification oneWinnerGroupName="WormDNA"/>
          </readoutUnit>
          <readoutUnit name="Mutant-goa1">
            <classification oneWinnerGroupName="WormDNA"/>
          </readoutUnit>
          <readoutUnit name="Mutant-unc1">
            <classification oneWinnerGroupName="WormDNA"/>
          </readoutUnit>
          <readoutUnit name="Mutant-unc38">
            <classification oneWinnerGroupName="WormDNA"/>
          </readoutUnit>
          <readoutUnit name="Mutant-unc63">
            <classification oneWinnerGroupName="WormDNA"/>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>


  <!--
    This sample demonstrates the power of the more advanced StateMachne capabilities. Here is used possibility to
    unify the amplitude of input patter data, as well as the possibility to directly connect fast-reacting analog neurons
    with spiking neurons and thus create a reservoir with sufficient memory and proper ability to provide good data for
    generalization at readout layer. Proper mutual cooperation of analog and spiking neurons is enabled by the novel ability of analog
    neuron to fire a spike.
    Following advanced (but still straightforward) configuration of the StateMachine achieves 100% accuracy, better than the best
    algorithm called BOSS, referenced at the dataset's home site:
    "Anthony Bagnall, Jason Lines, William Vickers and Eamonn Keogh, The UEA & UCR Time Series Classification Repository, www.timeseriesclassification.com"
    https://timeseriesclassification.com/description.php?Dataset=BeetleFly.
    MPEG-7 CE Shape-1 Part B is a database of binary images developed for testing MPEG-7 shape descriptors, and is available free online. 
    It is used for testing contour/image and skeleton-based descriptors. Classes of images vary broadly, and include classes that are
    similar in shape to one another. There are 20 instances of each class, and 60 classes in total.
    We have extracted the outlines of these images and mapped them into 1-D series of distances to the centre. 
    Beetle/Fly is the problem of distinguishing between an outline of a beetle and a fly.
  -->
  <case name="Classification task BeetleFly: Combined ESNxLSM reservoir generating FiringTrace predictors, one TanH neuron as a classifier (Resilient trainer)">
    <samples trainingData="BeetleFly_train.csv" verificationData="BeetleFly_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor predictorsReductionRatio="0">
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Continuous">
            <unification unifyAmplitude="true" detrend="false">
              <resampling signalBeginThreshold="0" signalEndThreshold="0" uniformTimeScale="true" targetTimePoints="Auto"/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="DistanceFromCenter">
                <realFeature standardize="true" keepReserve="true"/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="AnalogESNPool">
                <proportions dimX="128" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="Analog-grp" relShare="1" firingThreshold="0.01" thresholdMaxRefDeepness="4">
                    <activationTanH/>
                    <predictors>
                      <firingTrace fading="0.001"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="true" constantNumOfConnections="false"/>
                </interconnection>
              </pool>
              <pool name="SpikingPrimePool">
                <proportions dimX="64" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <spikingGroup name="Spiking-grp" relShare="1">
                    <activationLeakyIF refractoryPeriods="0"/>
                    <homogenousExcitability excitatoryStrength="0.8" inputRatio="0" inhibitoryRatio="0.25"/>
                    <predictors>
                      <firingTrace fading="0.001"/>
                    </predictors>
                  </spikingGroup>
                </neuronGroups>
                <interconnection>
                  <emptySchema/>
                </interconnection>
              </pool>
              <pool name="SpikingLSMPool">
                <proportions dimX="128" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <spikingGroup name="Spiking-grp" relShare="1">
                    <activationLeakyIF refractoryPeriods="0"/>
                    <homogenousExcitability excitatoryStrength="0.8" inputRatio="0" inhibitoryRatio="0.1"/>
                    <predictors>
                      <firingTrace fading="0.001"/>
                    </predictors>
                  </spikingGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="false" constantNumOfConnections="false"/>
                </interconnection>
              </pool>
            </pools>
            <interPoolConnections>
              <interPoolConnection targetPool="SpikingPrimePool" targetConnDensity="1" sourcePool="AnalogESNPool" sourceConnDensity="0.25"/>
              <interPoolConnection targetPool="SpikingLSMPool" targetConnDensity="1" sourcePool="SpikingPrimePool" sourceConnDensity="0.25"/>
            </interPoolConnections>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="DistanceFromCenter" poolName="AnalogESNPool" analogTargetDensity="1"/>
            </inputConnections>
            <synapse>
              <analogTarget>
                <indifferent maxDelay="16"/>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.1" folds="Auto" repetitions="1">
        <defaultNetworks/>
        <readoutUnits>
          <readoutUnit name="Beetle1Fly0">
            <classification>
              <networks>
                <ff>
                  <activationTanH/>
                  <resPropTrainer attempts="5" attemptEpochs="500"/>
                </ff>
              </networks>
            </classification>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>


  <!--
    This demo case demonstrates successful use of the pure analog ESN reservoir for the fast and accurate classifications enabled by
    the new ability of the analog neurons to fire a spike.
    Following straightforward configuration of the StateMachine exhibits 100% accuracy, slightly better than the best algorithm
    called BOSS, referenced at the dataset's home site:
    "Anthony Bagnall, Jason Lines, William Vickers and Eamonn Keogh, The UEA & UCR Time Series Classification Repository, www.timeseriesclassification.com"
    https://timeseriesclassification.com/description.php?Dataset=BirdChicken.
    MPEG-7 CE Shape-1 Part B is a database of binary images developed for testing MPEG-7 shape descriptors, and is available free online. 
    It is used for testing contour/image and skeleton-based descriptors. Classes of images vary broadly, and include classes that are
    similar in shape to one another. There are 20 instances of each class, and 60 classes in total.
    We have extracted the outlines of these images and mapped them into 1-D series of distances to the centre. 
    Bird/Chicken is the problem of distinguishing between an outline of a bird and a chicken.
  -->
  <case name="Classification task BirdChicken: Simple pure ESN reservoir generating FiringTrace predictors, one TanH neuron as a classifier (Resilient trainer)">
    <samples trainingData="BirdChicken_train.csv" verificationData="BirdChicken_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor>
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Forbidden">
            <unification unifyAmplitude="false" detrend="false">
              <resampling signalBeginThreshold="0" signalEndThreshold="0" uniformTimeScale="true" targetTimePoints="Auto"/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="DistanceFromCenter">
                <realFeature standardize="true" keepReserve="true"/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="PureESN">
                <proportions dimX="6" dimY="6" dimZ="5"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" firingThreshold="0.00125" relShare="1">
                    <activationTanH/>
                    <predictors>
                      <firingTrace/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.2" avgDistance="NA" allowSelfConnection="true" constantNumOfConnections="false"/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="DistanceFromCenter" poolName="PureESN"/>
            </inputConnections>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.1" folds="Auto" repetitions="1">
        <defaultNetworks/>
        <readoutUnits>
          <readoutUnit name="Chicken1Bird0">
            <classification>
              <networks>
                <ff>
                  <activationTanH/>
                  <resPropTrainer attempts="5" attemptEpochs="200"/>
                </ff>
              </networks>
            </classification>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>

  <!--
    This demo case demonstrates successful use of the pure analog ESN reservoir for the fast and accurate classifications enabled by
    the new ability of the analog neurons to fire a spike.
    Following configuration of the StateMachine leads to 88.29% accuracy, slightly better than the best algorithm
    called ST, referenced at the dataset's home site:
    "Anthony Bagnall, Jason Lines, William Vickers and Eamonn Keogh, The UEA & UCR Time Series Classification Repository, www.timeseriesclassification.com"
    https://timeseriesclassification.com/description.php?Dataset=ProximalPhalanxOutlineAgeGroup.
    This series of 11 classification problems were created as part of Luke Davis's PhD titled "Predictive Modelling of Bone Ageing".
    They are all derived from the same images, extracted from Cao et al. "Digital hand atlas and web-based bone age assessment: system design and implementation".
    They are designed to test the efficacy of hand and bone outline detection and whether these outlines could be helpful in bone
    age prediction. Algorithms to automatically extract the hand outlines and then the outlines of three bones of the middle finger
    (proximal, middle and distal phalanges) were applied to over 1300 images, and three human evaluators labelled the output
    of the image outlining as correct or incorrect. This generated three classification problems: DistalPhalanxOutlineCorrect; MiddlePhalanxOutlineCorrect; and ProximalPhalanxOutlineCorrect.
    The next stage of the project was to use the outlines to predict information about the subjects age.
    The three problems {DistalPhalanxOutlineAgeGroup, MiddlePhalanxOutlineAgeGroup and ProximalPhalanxOutlineAgeGroup} involve using
    the outline of one of the phalanges to predict whether the subject is one of three age groups: 0-6 years old, 7-12 years old
    and 13-19 years old. Note that these problems are aligned by subject, and hence can be treated as a multi dimensional
    TSC problem. Problem Phalanges contains the concatenation of all three problems. Bone age estimation is usually performed by
    an expert with an algorithm called Tanner-Whitehouse. This involves scoring each bone into one of seven categories based on
    the stage of development. The final three bone image classification problems, DistalPhalanxTW, MiddlePhalanxTW and ProximalPhalanxTW},
    involve predicting the Tanner-Whitehouse score (as labelled by a human expert) from the outline.
  -->
  <case name="Classification task ProximalPhalanxOutlineAgeGroup: Small pure ESN reservoir generating Activation, ActivationSquare and FiringTrace predictors, one Elliot neuron as a classifier (Resilient trainer)">
    <samples trainingData="ProximalPhalanxOutlineAgeGroup_train.csv" verificationData="ProximalPhalanxOutlineAgeGroup_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor>
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Forbidden">
            <unification unifyAmplitude="false" detrend="true">
              <resampling/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="Outline">
                <realFeature/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="Pool1">
                <proportions dimX="240" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="Analog-grp" relShare="1" firingThreshold="0.00125" thresholdMaxRefDeepness="9">
                    <activationTanH/>
                    <predictors>
                      <firingTrace fading="0.005"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <chainSchema ratio="1" circle="true" repetitions="30"/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="Outline" poolName="Pool1" analogTargetDensity="0.25"/>
            </inputConnections>
            <synapse>
              <analogTarget>
                <input maxDelay="0">
                  <analogSource>
                    <weight min="0" max="1"/>
                  </analogSource>
                </input>
                <indifferent maxDelay="0"/>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.25" folds="Auto" repetitions="1">
        <defaultNetworks>
          <classification>
            <ff>
              <activationElliot/>
              <resPropTrainer attempts="3" attemptEpochs="1000"/>
            </ff>
          </classification>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="0-6 years">
            <classification oneWinnerGroupName="AgeGroup"/>
          </readoutUnit>
          <readoutUnit name="7-12 years">
            <classification oneWinnerGroupName="AgeGroup"/>
          </readoutUnit>
          <readoutUnit name="13-19 years">
            <classification oneWinnerGroupName="AgeGroup"/>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>


  <!--
    This demo case demonstrates successful use of the pure analog ESN reservoir for the fast and accurate classifications enabled by
    the new ability of the analog neurons to fire a spike.
    Following straightforward configuration of the StateMachine achieves 91.43% accuracy, slightly better than
    the best algorithm called BOSS, referenced at the dataset's home site:
    "Anthony Bagnall, Jason Lines, William Vickers and Eamonn Keogh, The UEA & UCR Time Series Classification Repository, www.timeseriesclassification.com"
    https://timeseriesclassification.com/description.php?Dataset=Yoga.
    The dataset was obtained by capturing two actors transiting between yoga poses in front of a green screen. The problem is to
    discriminate between one actor (male) and another (female). Each image was converted to a one dimensional series by finding the
    outline and measuring the distance of the outline to the centre.
  -->
  <case name="Classification task Yoga: Simple pure ESN reservoir generating FiringFadingSum predictors, multilayer FF network as a classifier (Resilient trainer)">
    <samples trainingData="Yoga_train.csv" verificationData="Yoga_verify.csv"/>
    <stateMachine>
      <neuralPreprocessor>
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Continuous"/>
          <varyingFields routeToReadout="true">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="DistanceFromCenter">
                <realFeature/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="PureESN">
                <proportions dimX="213" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1">
                    <activationTanH/>
                    <predictors>
                      <firingTrace fading="0.001"/>
                      <activationStatFeature feature="ArithAvg"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="DistanceFromCenter" poolName="PureESN"/>
            </inputConnections>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.05" folds="Auto" repetitions="1">
        <defaultNetworks/>
        <readoutUnits>
          <readoutUnit name="Female1Male0">
            <classification>
              <networks>
                <ff>
                  <activationIdentity/>
                  <hiddenLayers>
                    <layer neurons="10">
                      <activationLeakyReLU/>
                    </layer>
                    <layer neurons="10">
                      <activationLeakyReLU/>
                    </layer>
                  </hiddenLayers>
                  <resPropTrainer attempts="5" attemptEpochs="400"/>
                </ff>
              </networks>
            </classification>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>

  <!--
    This demo case demonstrates successful use of the pure analog ESN reservoir for the fast and accurate classifications enabled by
    the new ability of the analog hidden neurons to fire a spike. Setup is very simple, having only 150 hidden TanH neurons.
    The dataset is from "Anthony Bagnall, Jason Lines, William Vickers and Eamonn Keogh, The UEA & UCR Time Series Classification Repository, www.timeseriesclassification.com"
    https://timeseriesclassification.com/description.php?Dataset=Libras
    Here StateMachine achieves 92.78% accuracy. It is a bit better than the benchmark 89.4% mentioned in related pdf https://arxiv.org/pdf/1811.00075.pdf
    The dataset contains 15 classes of 24 instances each, where
    each class references to a hand movement type in LIBRAS. The hand movement is represented as a bidimensional curve performed
    by the hand in a period of time. The curves were obtained from videos of hand movements, with the Libras performance from 4 
    different people, during 2 sessions. Each video corresponds to only one hand movement and has about 7 seconds.    
    Each video corresponds to a function F in a functions space which is the continual version of the input dataset.
    In the video pre-processing, a time normalization is carried out selecting 45 frames from each video, in according 
    to an uniform distribution. In each frame, the centroid pixels of the segmented objects (the hand) are found, which 
    compose the discrete version of the curve F with 45 points. All curves are normalized in the unitary space.
    Each curve F is mapped in a representation with 90 features, with representing the coordinates of movement.
    Each instance represents 45 points on a bi-dimensional space, which can be plotted in an ordered way (from 1 through
    45 as the X co-ordinate) in order to draw the path of the movement.
  -->
  <case name="Classification task Libras Movement: Simple ESN reservoir generating FiringTrace predictors, one Identity neuron as a classifier (Resilient trainer)">
    <samples trainingData="LibrasMovement_train.csv" verificationData="LibrasMovement_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor>
        <inputEncoder>
          <feedingPatterned slices="1" bidir="WithReset" variablesSchema="Groupped">
            <unification unifyAmplitude="false" detrend="false">
              <resampling uniformTimeScale="true" targetTimePoints="Auto"/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="coord_abcissa" routeToReadout="true">
                <realFeature/>
              </field>
              <field name="coord_ordinate" routeToReadout="true">
                <realFeature/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="SimpleESN">
                <proportions dimX="150" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1" thresholdMaxRefDeepness="1">
                    <activationTanH/>
                    <predictors>
                      <firingTrace fading="0.05"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="true" constantNumOfConnections="false"/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="coord_abcissa" poolName="SimpleESN" analogTargetDensity="0.25"/>
              <connection inputFieldName="coord_ordinate" poolName="SimpleESN" analogTargetDensity="0.25"/>
            </inputConnections>
            <synapse>
              <analogTarget>
                <input maxDelay="5"/>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.0825" folds="Auto" repetitions="1">
        <defaultNetworks>
          <classification>
            <ff>
              <activationIdentity/>
              <resPropTrainer attempts="10" attemptEpochs="300"/>
            </ff>
          </classification>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="curved swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="anti-clockwise arc">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="clockwise arc">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="circle">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal straight-line">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical straight-line">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal zigzag">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical zigzag">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal wavy">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical wavy">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="face-up curve">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="face-down curve">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="tremble">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>


  <!--
    This demo case demonstrates bypassing of neural preprocessor.
    Following simple configuration of the StateMachine's alone readout layer exhibits 85.85% accuracy, it is slightly worse than the best algorithm
    called ST, referenced at the dataset's home site:
    "Anthony Bagnall, Jason Lines, William Vickers and Eamonn Keogh, The UEA & UCR Time Series Classification Repository, www.timeseriesclassification.com"
    https://timeseriesclassification.com/description.php?Dataset=ProximalPhalanxOutlineAgeGroup.
    This series of 11 classification problems were created as part of Luke Davis's PhD titled "Predictive Modelling of Bone Ageing".
    They are all derived from the same images, extracted from Cao et al. "Digital hand atlas and web-based bone age assessment: system design and implementation".
    They are designed to test the efficacy of hand and bone outline detection and whether these outlines could be helpful in bone
    age prediction. Algorithms to automatically extract the hand outlines and then the outlines of three bones of the middle finger
    (proximal, middle and distal phalanges) were applied to over 1300 images, and three human evaluators labelled the output
    of the image outlining as correct or incorrect. This generated three classification problems: DistalPhalanxOutlineCorrect; MiddlePhalanxOutlineCorrect; and ProximalPhalanxOutlineCorrect.
    The next stage of the project was to use the outlines to predict information about the subjects age.
    The three problems {DistalPhalanxOutlineAgeGroup, MiddlePhalanxOutlineAgeGroup and ProximalPhalanxOutlineAgeGroup} involve using
    the outline of one of the phalanges to predict whether the subject is one of three age groups: 0-6 years old, 7-12 years old
    and 13-19 years old. Note that these problems are aligned by subject, and hence can be treated as a multi dimensional
    TSC problem. Problem Phalanges contains the concatenation of all three problems. Bone age estimation is usually performed by
    an expert with an algorithm called Tanner-Whitehouse. This involves scoring each bone into one of seven categories based on
    the stage of development. The final three bone image classification problems, DistalPhalanxTW, MiddlePhalanxTW and ProximalPhalanxTW},
    involve predicting the Tanner-Whitehouse score (as labelled by a human expert) from the outline.
  -->
  <case name="Classification task ProximalPhalanxOutlineAgeGroup: No preprocesing, Multilayer Feed forward network as a classifier (Resilient trainer)">
    <samples trainingData="ProximalPhalanxOutlineAgeGroup_train.csv" verificationData="ProximalPhalanxOutlineAgeGroup_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <readoutLayer testDataRatio="0.25" folds="Auto">
        <defaultNetworks>
          <classification>
            <ff>
              <activationIdentity/>
              <hiddenLayers>
                <layer neurons="50">
                  <activationTanH/>
                </layer>
              </hiddenLayers>
              <resPropTrainer attempts="10" attemptEpochs="500"/>
            </ff>
          </classification>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="0-6 years">
            <classification oneWinnerGroupName="AgeGroup"/>
          </readoutUnit>
          <readoutUnit name="7-12 years">
            <classification oneWinnerGroupName="AgeGroup"/>
          </readoutUnit>
          <readoutUnit name="13-19 years">
            <classification oneWinnerGroupName="AgeGroup"/>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>



  <!--
    This demo case demonstrates how to instantiate two independent reservoirs. Configuration definies two ESN reservoir
    structures each having two interconnected pools of 100 TanH analog neurons.
    Two corresponding reservoirs are then instantiated (hence in total 2x2x100=400 analog neurons).
    QRD regression is used as predicting readout.
    Dataset contains Mackey Glass chaotic time series (tau=17) and network very accurately forecasts the next value.
  -->
  <case name="Forecast task Mackey Glass chaotic time series: Two independent ESN reservoirs, one Identity neuron as a forecaster, QRD regression trainer">
    <samples trainingData="MackeyGlass_train.csv" verificationData="MackeyGlass_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor predictorsReductionRatio="0">
        <inputEncoder>
          <feedingContinuous bootCycles="Auto"/>
          <varyingFields routeToReadout="true">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="Value" routeToReadout="true">
                <realFeature standardize="true" keepReserve="false"/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="ESNCfg #1">
            <pools>
              <pool name="Logistic chain pool">
                <proportions dimX="100" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="Tanh-grp" relShare="1">
                    <activationTanH/>
                    <predictors>
                      <activation/>
                      <activationPower/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <chainSchema ratio="1" circle="false" repetitions="1"/>
                </interconnection>
              </pool>
              <pool name="Logistic random pool">
                <proportions dimX="100" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1">
                    <activationTanH/>
                    <predictors>
                      <activation/>
                      <activationPower/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="true"/>
                </interconnection>
              </pool>
            </pools>
            <interPoolConnections>
              <interPoolConnection targetPool="Logistic random pool" targetConnDensity="1" sourcePool="Logistic chain pool" sourceConnDensity="0.01"/>
            </interPoolConnections>
          </reservoirStructure>
          <reservoirStructure name="ESNCfg #2">
            <pools>
              <pool name="Logistic chain pool">
                <proportions dimX="100" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1">
                    <activationTanH/>
                    <predictors>
                      <activation/>
                      <activationPower/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <chainSchema ratio="1" circle="false" repetitions="1"/>
                </interconnection>
              </pool>
              <pool name="Logistic random pool">
                <proportions dimX="100" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1">
                    <activationTanH/>
                    <predictors>
                      <activation/>
                      <activationPower/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="true"/>
                </interconnection>
              </pool>
            </pools>
            <interPoolConnections>
              <interPoolConnection targetPool="Logistic chain pool" targetConnDensity="1" sourcePool="Logistic random pool" sourceConnDensity="0.05"/>
            </interPoolConnections>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="ESN reservoir #1" reservoirStructure="ESNCfg #1">
            <inputConnections>
              <connection inputFieldName="Value" poolName="Logistic chain pool"/>
            </inputConnections>
          </reservoirInstance>
          <reservoirInstance name="ESN reservoir #2" reservoirStructure="ESNCfg #2">
            <inputConnections>
              <connection inputFieldName="Value" poolName="Logistic random pool"/>
            </inputConnections>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.1" folds="1">
        <defaultNetworks/>
        <readoutUnits>
          <readoutUnit name="Value">
            <forecast>
              <realFeature standardize="true" keepReserve="true"/>
              <networks>
                <ff>
                  <activationIdentity/>
                  <qrdRegrTrainer attempts="1" attemptEpochs="1">
                    <noise min="0" max="0" subIntervals="1"/>
                  </qrdRegrTrainer>
                </ff>
              </networks>
            </forecast>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>

  
  <!--
    This demo case demonstrates the simple form of classical ESN reservoir setup to predict next Low, High and Close share prices.
    Elastic net regression is used as forecasting readout.
    Time series contains real share prices of TTOO title from https://finance.yahoo.com/quote/TTOO/history?p=TTOO.
    The last recorded prices are from 2018/03/02 so StateMachine is predicting next High, Low and Close prices for the following
    business day 2018/03/05 (where real prices were High=6.58$, Low=5.99$ and Close=6.15$).
  -->
  <case name="Forecast task High and Low share prices of TTOO (T2 Biosystems, Inc.): Small analog reservoir (ESN), one Identity neuron as a forecaster (Elastic trainer)">
    <samples trainingData="TTOO_train.csv" verificationData="TTOO_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor>
        <inputEncoder>
          <feedingContinuous bootCycles="Auto"/>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="High" routeToReadout="true">
                <realFeature standardize="true" keepReserve="false"/>
              </field>
              <field name="Low" routeToReadout="true">
                <realFeature standardize="true" keepReserve="false"/>
              </field>
              <field name="Adj Close" routeToReadout="true">
                <realFeature standardize="true" keepReserve="false"/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="Logistic pool">
                <proportions dimX="6" dimY="6" dimZ="6"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1">
                    <activationTanH/>
                    <retainment density="1">
                      <strength min="0" max="0.75" />
                    </retainment>
                    <predictors>
                      <activation/>
                      <activationPower exponent="3" keepSign="false"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <chainSchema ratio="1" circle="true" replaceExistingConnections="true" repetitions="3"/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="High" poolName="Logistic pool"/>
              <connection inputFieldName="Low" poolName="Logistic pool"/>
              <connection inputFieldName="Adj Close" poolName="Logistic pool"/>
            </inputConnections>
            <synapse>
              <analogTarget spectralRadius="0.9999">
                <input>
                  <analogSource>
                    <weight min="0" max="1"/>
                  </analogSource>
                </input>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.1" folds="Auto">
        <defaultNetworks>
          <forecast>
            <ff>
              <activationIdentity/>
              <elasticRegrTrainer attemptEpochs="400" lambda="1e-6" alpha="0.5"/>
            </ff>
          </forecast>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="High">
            <forecast>
              <realFeature standardize="true" keepReserve="true"/>
            </forecast>
          </readoutUnit>
          <readoutUnit name="Low">
            <forecast>
              <realFeature standardize="true" keepReserve="true"/>
            </forecast>
          </readoutUnit>
          <readoutUnit name="Adj Close">
            <forecast>
              <realFeature standardize="true" keepReserve="true"/>
            </forecast>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>

  <!--
    Used dataset is a pre-processed and re-structured/reshaped version of a very commonly used dataset featuring epileptic seizure detection.
    The dataset was converted from https://archive.ics.uci.edu/ml/datasets/Epileptic+Seizure+Recognition and contains 11500 EEG recordings
    each for 1 second. After conversion each EEG pattern corresponds to an epileptic seizure or not.
    Achieved accuracy is 99.2%
    Relevant paper: http://users.fs.cvut.cz/ivo.bukovsky/PROJEKT/Data/Realna/BIO/EEG/reference/PRE61907.pdf
  -->
  <case name="Classification task Recognition of the Epileptic Seizure Brain Activity (EEG):  Pure ESN reservoir generating FiringTrace predictors, Multilayer FF network as a classifier (Resilient trainer)">
    <samples trainingData="EpilepticSeizureActivity_train.csv" verificationData="EpilepticSeizureActivity_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor>
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Continuous">
            <unification unifyAmplitude="false" detrend="false">
              <resampling signalBeginThreshold="0" signalEndThreshold="0" uniformTimeScale="true" targetTimePoints="Auto"/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="EEG" routeToReadout="true">
                <realFeature standardize="true" keepReserve="false"/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="PureESN">
                <proportions dimX="178" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1">
                    <activationTanH/>
                    <predictors>
                      <firingTrace/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="true" constantNumOfConnections="false"/>
                  <chainSchema ratio="1" circle="true" repetitions="1"/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="EEG" poolName="PureESN"/>
            </inputConnections>
            <synapse>
              <analogTarget>
                <input delayMethod="Random" maxDelay="89"/>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.1" folds="Auto">
        <defaultNetworks/>
        <readoutUnits>
          <readoutUnit name="EpilepticSeizure">
            <classification>
              <networks>
                <ff>
                  <activationIdentity/>
                  <hiddenLayers>
                    <layer neurons="20">
                      <activationTanH/>
                    </layer>
                    <layer neurons="20">
                      <activationTanH/>
                    </layer>
                  </hiddenLayers>
                  <resPropTrainer attempts="2" attemptEpochs="1000"/>
                </ff>
              </networks>
            </classification>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>

  <!--
    This demo case illustrates how to define steady data fields in case of patterned feeding.
  -->
  <case name="Forecast task SteadyMG: pure ESN reservoir generating Activation predictors, MLP as a forecaster (Resilient trainer)">
    <samples trainingData="SteadyMG_train.csv" verificationData="SteadyMG_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor predictorsReductionRatio="0">
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Forbidden" variablesSchema="Sequential">
            <unification unifyAmplitude="false" detrend="false">
              <resampling signalBeginThreshold="0" signalEndThreshold="0" uniformTimeScale="true" targetTimePoints="Auto"/>
            </unification>
            <steadyFields>
              <field name="tau" routeToReadout="true"/>
            </steadyFields>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="MG">
                <realFeature />
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="PoolMain">
                <proportions dimX="200" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1">
                    <activationTanH/>
                    <predictors>
                      <activation/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="true"/>
                  <chainSchema/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="MG" poolName="PoolMain" analogTargetDensity="0.25"/>
            </inputConnections>
            <synapse>
              <analogTarget spectralRadius="0.9999">
                <input maxDelay="0">
                  <analogSource>
                    <weight min="0" max="1.5"/>
                  </analogSource>
                </input>
                <indifferent maxDelay="0"/>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.5" folds="Auto" repetitions="1">
        <defaultNetworks>
          <forecast>
            <ff>
              <activationIdentity/>
              <hiddenLayers>
                <layer neurons="10">
                  <activationLeakyReLU/>
                </layer>
                <layer neurons="10">
                  <activationLeakyReLU/>
                </layer>
              </hiddenLayers>
              <resPropTrainer attempts="5" attemptEpochs="1000"/>
            </ff>
          </forecast>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="MG-with-steady">
            <forecast>
              <realFeature/>
            </forecast>
          </readoutUnit>
          <readoutUnit name="MG-w/o-steady">
            <forecast>
              <realFeature/>
            </forecast>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
      <mapper>
        <map readoutUnitName="MG-with-steady">
          <allowedPredictors>
            <predictor name="Activation"/>
          </allowedPredictors>
          <allowedPools>
            <pool reservoirInstanceName="Main" poolName="PoolMain"/>
          </allowedPools>
          <allowedInputFields>
            <field name="tau"/>
          </allowedInputFields>
        </map>
        <map readoutUnitName="MG-w/o-steady">
          <allowedPredictors>
            <predictor name="Activation"/>
          </allowedPredictors>
          <allowedPools>
            <pool reservoirInstanceName="Main" poolName="PoolMain"/>
          </allowedPools>
        </map>
      </mapper>
    </stateMachine>
  </case>

  <!--
    This demo case demonstrates use of additional transformed input fields and their pre-processing in separated neural pool.
    It also shows mapper functionality.
  -->
  <case name="Classification task Libras Movement: ESN reservoir, two independent pools. ActivationMWAvg and FiringCount predictors, one Identity neuron as a classifier (Resilient trainer)">
    <samples trainingData="LibrasMovement_train.csv" verificationData="LibrasMovement_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor>
        <inputEncoder>
          <feedingPatterned slices="1" bidir="WithReset" variablesSchema="Groupped">
            <unification unifyAmplitude="false" detrend="false">
              <resampling uniformTimeScale="true" targetTimePoints="Auto"/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="false">
            <spikesCoder regime="Forbidden"/>
            <externalFields>
              <field name="coord_abcissa" routeToReadout="true">
                <realFeature/>
              </field>
              <field name="coord_ordinate" routeToReadout="true">
                <realFeature/>
              </field>
            </externalFields>
            <transformedFields>
              <field name="coord_abcissa_diff" routeToReadout="false">
                <diff fieldName="coord_abcissa" interval="1"/>
              </field>
              <field name="coord_ordinate_diff" routeToReadout="false">
                <diff fieldName="coord_ordinate" interval="1"/>
              </field>
            </transformedFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="PureESN1">
                <proportions dimX="150" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1" thresholdMaxRefDeepness="1">
                    <activationTanH/>
                    <predictors>
                      <activationStatFeature feature="Mid"/>
                      <firingTrace fading="0"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="false" constantNumOfConnections="false"/>
                </interconnection>
              </pool>
              <pool name="PureESN2">
                <proportions dimX="150" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <analogGroup name="TanH-grp" relShare="1" thresholdMaxRefDeepness="1">
                    <activationTanH/>
                    <predictors>
                      <activationStatFeature feature="Mid"/>
                      <firingTrace fading="0"/>
                    </predictors>
                  </analogGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.1" avgDistance="NA" allowSelfConnection="false" constantNumOfConnections="false"/>
                </interconnection>
              </pool>
            </pools>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="coord_abcissa" poolName="PureESN1" analogTargetDensity="0.25" spikingTargetDensity="0"/>
              <connection inputFieldName="coord_ordinate" poolName="PureESN1" analogTargetDensity="0.25" spikingTargetDensity="0"/>
              <connection inputFieldName="coord_abcissa_diff" poolName="PureESN2" analogTargetDensity="0.25" spikingTargetDensity="0"/>
              <connection inputFieldName="coord_ordinate_diff" poolName="PureESN2" analogTargetDensity="0.25" spikingTargetDensity="0"/>
            </inputConnections>
            <synapse>
              <analogTarget>
                <input maxDelay="5"/>
                <indifferent maxDelay="0"/>
              </analogTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.0825" folds="Auto" repetitions="1">
        <defaultNetworks>
          <classification>
            <ff>
              <activationIdentity/>
              <resPropTrainer attempts="5" attemptEpochs="400"/>
            </ff>
          </classification>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="curved swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="anti-clockwise arc">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="clockwise arc">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="circle">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal straight-line">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical straight-line">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal zigzag">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical zigzag">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal wavy">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical wavy">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="face-up curve">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="face-down curve">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="tremble">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
      <mapper>
        <map readoutUnitName="face-down curve">
          <allowedPredictors>
            <predictor name="ActivationStatFeature"/>
          </allowedPredictors>
          <allowedPools>
            <pool reservoirInstanceName="Main" poolName="PureESN2"/>
          </allowedPools>
        </map>
        <map readoutUnitName="tremble">
          <allowedPredictors>
            <predictor name="FiringTrace"/>
          </allowedPredictors>
          <allowedPools>
            <pool reservoirInstanceName="Main" poolName="PureESN1"/>
          </allowedPools>
        </map>
      </mapper>
    </stateMachine>
  </case>



  <!--
    EXPERIMENTAL
  -->
  <case name="Classification task Libras Movement: LSM reservoir having Prime and Recurrent pools (VERTICAL spiking input), MLP classifier.">
    <samples trainingData="LibrasMovement_train.csv" verificationData="LibrasMovement_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <neuralPreprocessor>
        <inputEncoder>
          <feedingPatterned slices="1" bidir="Continuous" variablesSchema="Groupped">
            <unification unifyAmplitude="false" detrend="false">
              <resampling uniformTimeScale="true" targetTimePoints="Auto"/>
            </unification>
          </feedingPatterned>
          <varyingFields routeToReadout="true">
            <spikesCoder regime="Vertical">
              <signalStrengthCoder timePoints="8"/>
              <upDirArrowsCoder receptors="8" timePoints="8"/>
              <downDirArrowsCoder receptors="8" timePoints="8"/>
            </spikesCoder>
            <externalFields>
              <field name="coord_abcissa">
                <realFeature/>
              </field>
              <field name="coord_ordinate">
                <realFeature/>
              </field>
            </externalFields>
          </varyingFields>
        </inputEncoder>
        <reservoirStructures>
          <reservoirStructure name="MainCfg">
            <pools>
              <pool name="PrimePool">
                <proportions dimX="180" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <spikingGroup name="Input-grp" relShare="1">
                    <activationAdExpIF/>
                    <homogenousExcitability excitatoryStrength="0.7" inputRatio="1" inhibitoryRatio="0"/>
                    <predictors>
                      <firingTrace fading="0.0005"/>
                    </predictors>
                  </spikingGroup>
                </neuronGroups>
                <interconnection>
                  <emptySchema/>
                </interconnection>
              </pool>
              <pool name="RecPool">
                <proportions dimX="180" dimY="1" dimZ="1"/>
                <neuronGroups>
                  <spikingGroup name="Reccurent-grp" relShare="1">
                    <activationAdExpIF/>
                    <homogenousExcitability excitatoryStrength="2" inputRatio="0" inhibitoryRatio="0.2"/>
                    <predictors>
                      <firingTrace fading="0.0005"/>
                    </predictors>
                  </spikingGroup>
                </neuronGroups>
                <interconnection>
                  <randomSchema density="0.01" avgDistance="NA" allowSelfConnection="false" constantNumOfConnections="false"/>
                </interconnection>
              </pool>
            </pools>
            <interPoolConnections>
              <interPoolConnection targetPool="RecPool" targetConnDensity="1" sourcePool="PrimePool" sourceConnDensity="0.01"/>
            </interPoolConnections>
          </reservoirStructure>
        </reservoirStructures>
        <reservoirInstances>
          <reservoirInstance name="Main" reservoirStructure="MainCfg">
            <inputConnections>
              <connection inputFieldName="coord_abcissa" poolName="PrimePool" spikingTargetDensity="1"/>
              <connection inputFieldName="coord_ordinate" poolName="PrimePool" spikingTargetDensity="1"/>
            </inputConnections>
            <synapse>
              <spikingTarget>
                <input maxDelay="0">
                  <spikingSource>
                    <plasticity>
                      <nonlinearDynamics/>
                    </plasticity>
                  </spikingSource>
                </input>
                <excitatory maxDelay="0">
                  <spikingSource>
                    <plasticity>
                      <nonlinearDynamics/>
                    </plasticity>
                  </spikingSource>
                </excitatory>
                <inhibitory maxDelay="0">
                  <spikingSource>
                    <plasticity>
                      <nonlinearDynamics/>
                    </plasticity>
                  </spikingSource>
                </inhibitory>
              </spikingTarget>
            </synapse>
          </reservoirInstance>
        </reservoirInstances>
      </neuralPreprocessor>
      <readoutLayer testDataRatio="0.0825" folds="Auto">
        <defaultNetworks>
          <classification>
            <ff>
              <activationIdentity/>
              <hiddenLayers>
                <layer neurons="10">
                  <activationLeakyReLU/>
                </layer>
                <layer neurons="10">
                  <activationLeakyReLU/>
                </layer>
              </hiddenLayers>
              <resPropTrainer attempts="5" attemptEpochs="400"/>
            </ff>
          </classification>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="curved swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="anti-clockwise arc">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="clockwise arc">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="circle">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal straight-line">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical straight-line">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal zigzag">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical zigzag">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal wavy">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical wavy">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="face-up curve">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="face-down curve">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="tremble">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>


  <!--
    Benchmark - bypassed neural preprocessing
  -->
  <case name="Classification task Libras Movement: Simple pure LSM reservoir (HORIZONTAL spiking input) test">
    <samples trainingData="LibrasMovement_train.csv" verificationData="LibrasMovement_verify.csv"/>
    <stateMachine randomizerSeek="0">
      <readoutLayer testDataRatio="0.0825" folds="Auto">
        <defaultNetworks>
          <classification>
            <ff>
              <activationIdentity/>
              <hiddenLayers>
                <layer neurons="10">
                  <activationLeakyReLU/>
                </layer>
                <layer neurons="10">
                  <activationLeakyReLU/>
                </layer>
              </hiddenLayers>
              <resPropTrainer attempts="5" attemptEpochs="400"/>
            </ff>
          </classification>
        </defaultNetworks>
        <readoutUnits>
          <readoutUnit name="curved swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical swing">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="anti-clockwise arc">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="clockwise arc">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="circle">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal straight-line">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical straight-line">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal zigzag">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical zigzag">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="horizontal wavy">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="vertical wavy">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="face-up curve">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="face-down curve">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
          <readoutUnit name="tremble">
            <classification oneWinnerGroupName="Hand movement type"/>
          </readoutUnit>
        </readoutUnits>
      </readoutLayer>
    </stateMachine>
  </case>






</demo>


